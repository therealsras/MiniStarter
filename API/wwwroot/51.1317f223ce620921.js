"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[51],{7051:(U,d,i)=>{i.r(d),i.d(d,{AccountModule:()=>I});var c=i(6895),l=i(3060),o=i(4006),p=i(9300),n=i(4650),f=i(1146),m=i(9549),h=i(4144),u=i(3546),v=i(4859),b=i(7392),Z=i(1572);function C(t,r){if(1&t&&(n.TgZ(0,"button",14),n._uU(1," Sign In "),n.qZA()),2&t){const e=n.oxw();n.Q6J("disabled",!e.loginForm.valid)}}function x(t,r){if(1&t&&(n.TgZ(0,"button",14)(1,"mat-icon"),n._UZ(2,"mat-spinner",15),n.qZA(),n._uU(3," Logging you in.. "),n.qZA()),2&t){const e=n.oxw();n.Q6J("disabled",!e.loginForm.valid)}}let g=(()=>{class t{constructor(e,a,s){this.accountService=e,this.router=a,this.activatedRoute=s,this.isBeingLoggedIn=!1,this.initializeForm()}ngOnInit(){this.returnUrl=this.activatedRoute.snapshot.queryParams.returnUrl||"/home"}initializeForm(){this.loginForm=new o.nJ({userName:new o.p4("",o.kI.required),password:new o.p4("",o.kI.required)})}onSubmit(){this.isBeingLoggedIn=!0,this.loginForm.disable(),this.accountService.login(this.loginForm.value).pipe((0,p.h)(e=>null!==e)).subscribe(()=>this.router.navigateByUrl(this.returnUrl),e=>{console.log(e),this.loginForm.enable()}).add(()=>this.isBeingLoggedIn=!1)}fillSuperAdminCredentials(){this.loginForm=new o.nJ({userName:new o.p4("superadmin",o.kI.required),password:new o.p4("Pa$$w0rd",o.kI.required)})}fillStaffCredentials(){this.loginForm=new o.nJ({userName:new o.p4("staff",o.kI.required),password:new o.p4("Pa$$w0rd",o.kI.required)})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(f.B),n.Y36(l.F0),n.Y36(l.gz))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-login"]],decls:29,vars:3,consts:[[1,"content"],[1,"container"],[1,"mat-card-login"],[1,"mat-card-content-login"],[1,"row"],[1,"col-lg-6","col-md-6","col-xl-6","col-xs-6","d-none","d-lg-block","login-image"],[1,"col-lg-6","col-md-12","col-xl-6","col-xs-6","login-form"],[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","placeholder","User Name","formControlName","userName","required",""],["matInput","","type","password","placeholder","Password","formControlName","password","required",""],["mat-raised-button","","color","primary","style","width:100%;height: 50px;","type","submit",3,"disabled",4,"ngIf"],[1,"col"],["mat-raised-button","","color","accent",2,"width","100%","height","50px",3,"click"],["mat-raised-button","","color","primary","type","submit",2,"width","100%","height","50px",3,"disabled"],["diameter","20"]],template:function(e,a){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-content",3)(4,"div",4),n._UZ(5,"div",5),n.TgZ(6,"div",6)(7,"form",7),n.NdJ("ngSubmit",function(){return a.onSubmit()}),n.TgZ(8,"h1"),n._uU(9,"Sign in"),n.qZA(),n.TgZ(10,"h3"),n._uU(11,"Enter your credentials here."),n.qZA(),n.TgZ(12,"mat-form-field",8),n._UZ(13,"input",9),n.TgZ(14,"mat-error"),n._uU(15," Please provide a valid username "),n.qZA()(),n.TgZ(16,"mat-form-field",8),n._UZ(17,"input",10),n.TgZ(18,"mat-error"),n._uU(19," Please provide a valid password "),n.qZA()(),n.YNc(20,C,2,1,"button",11),n.YNc(21,x,4,1,"button",11),n.qZA(),n.TgZ(22,"div",4)(23,"div",12)(24,"button",13),n.NdJ("click",function(){return a.fillSuperAdminCredentials()}),n._uU(25,"superadmin credentials"),n.qZA()(),n.TgZ(26,"div",12)(27,"button",13),n.NdJ("click",function(){return a.fillStaffCredentials()}),n._uU(28,"staff credentials"),n.qZA()()()()()()()()()),2&e&&(n.xp6(7),n.Q6J("formGroup",a.loginForm),n.xp6(13),n.Q6J("ngIf",!a.isBeingLoggedIn),n.xp6(1),n.Q6J("ngIf",a.isBeingLoggedIn))},dependencies:[c.O5,m.TO,m.KE,h.Nt,u.a8,u.dn,v.lW,b.Hw,Z.Ou,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u],styles:["mat-card[_ngcontent-%COMP%]{text-align:center;display:block;margin:5em auto}mat-form-field[_ngcontent-%COMP%]{display:block}.mat-card-login[_ngcontent-%COMP%]{max-width:1000px!important;padding:0!important}@media (max-width: 991px){.mat-card-login[_ngcontent-%COMP%]{margin:40px}}.mat-card-content-login[_ngcontent-%COMP%]{padding:0!important}.login-form[_ngcontent-%COMP%]{padding:40px;align-self:center}.login-image[_ngcontent-%COMP%]{background:url(/assets/images/50124-user-profile.gif) no-repeat center #ffffff;background-position:center;background-size:cover;width:500px;height:700px;border:inset 130px transparent;box-sizing:border-box}"]}),t})();const A=[{path:"",component:g},{path:"login",component:g}];let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[l.Bz.forChild(A),l.Bz]}),t})();var T=i(5734),w=i(8026);let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[c.ez,y,T.q,w.m]}),t})()}}]);